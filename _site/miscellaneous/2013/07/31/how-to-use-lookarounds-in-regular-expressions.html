<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>How to use lookarounds in regular expressions &#8211; </title>
<meta name="description" content="">
<meta name="keywords" content="regex">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="How to use lookarounds in regular expressions">
<meta property="og:description" content="">
<meta property="og:url" content="/miscellaneous/2013/07/31/how-to-use-lookarounds-in-regular-expressions.html">
<meta property="og:site_name" content="">
<meta property="og:image" content="/images/">





<link rel="canonical" href="/miscellaneous/2013/07/31/how-to-use-lookarounds-in-regular-expressions.html">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />






<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>
<body class="post-template" itemscope itemtype="http://schema.org/WebPage">  

<header id="masthead" class="blog-background overlay align-center align-middle animated from-bottom"  style="background-image: url(/images/)" itemscope itemtype="http://schema.org/Organization">


    <div class="inner">
        <div class="container">
            <a class="brand" href="/" role="banner" itemprop="url">

                

            <h1 class="blog-title light" itemprop="name">
                
            </h1>
                
            </a>
        </div>
    </div>
    
    
    <div class="decor-wrapper">
        <svg id="header-decor" class="decor bottom" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>

            <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>

        </svg>
    </div>
    
</header>
<div id="main" class="content" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
    <div class="container">
        <div class="row">
            <article class="post col-md-8 col-md-offset-2 hentry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
            
            
            
                
            
             
             
                    <header class="post-header entry-header">
                        
                        <h1 class="post-title text-center hyper lighter bordered-bottom entry-title" itemprop="headline">How to use lookarounds in regular expressions</h1>
                        
                        <div class="post-info text-center small">
                            <span class="entry-date date published updated"><time datetime="2013-07-31T00:00:00+02:00" class="post-time" itemprop="datePublished">31 Jul 2013</time><span>
                            in <span class="post-tags"><a href="/categories/index.html#miscellaneous" data-toggle="tooltip" title="Other posts from the Miscellaneous category" rel="tag">Miscellaneous</a></span>
                        </div>
                    </header>
                    <div class="post-body bordered-bottom" itemprop="description">
                        
                        <div class='highlight'><pre><code class='perl'><span class='o'>\</span><span class='n'>bw</span>
</code></pre></div>
<p>Now, let’s turn this into a condition by wrapping it in a positive lookahead.</p>
<div class='highlight'><pre><code class='perl'><span class='p'>(?</span><span class='o'>=\</span><span class='n'>bw</span><span class='p'>)</span>
</code></pre></div>
<p>Translated into plain English, this means “When we find a w at the beginning of a word, execute what comes next.” To finish our expression, we’ll now write the “what comes next” bit. That is, a statement to capture the entire word in question.</p>
<div class='highlight'><pre><code class='perl'><span class='o'>\</span><span class='n'>w</span><span class='o'>*</span>
</code></pre></div>
<p>Now let’s put them together.</p>
<div class='highlight'><pre><code class='perl'><span class='p'>(?</span><span class='o'>=\</span><span class='n'>bw</span><span class='p'>)</span><span class='o'>\</span><span class='n'>w</span><span class='o'>*</span>
</code></pre></div>
<p>And we’re done.</p>

<h2 id="a_less_contrived_example">A less contrived example</h2>

<p>Now that we understand the basics of lookarounds, let’s use them to solve the common problem of password validation. For this example, we have two simple constraints:</p>
<ul>
<li>The password must contain at least one number.</li>
<li>The password must contain at least one letter.</li>
<li>The password must not contain any whitespace.</li>
</ul>
<p>To be able to do this, we need to use lookarounds. Let’s start by capturing anything but whitespace.</p>
<div class='highlight'><pre><code class='perl'><span class='o'>\</span><span class='n'>S</span><span class='o'>*</span>
</code></pre></div>
<p>Now let’s add our constraints. Let’s start by requiring that it contain at least one number. We’ll use a lookahead in a bit of a creative way for this. If you think about it for a minute, you’ll realize that “The password must contain at least one number” is equivalent to “The password must start with a string of characters that ends in a number”. Once we make this connection, writing the condition is simple:</p>
<div class='highlight'><pre><code class='perl'><span class='p'>(?</span><span class='o'>=.*\</span><span class='n'>d</span><span class='p'>)</span><span class='o'>\</span><span class='n'>S</span><span class='o'>*</span>
</code></pre></div>
<p>We now have a statement that says “When we find a string of characters that ends in a digit, capture the whole thing.” Let’s now apply the exact same logic to require that the password also contain at least one letter.</p>
<div class='highlight'><pre><code class='perl'><span class='p'>(?</span><span class='o'>=.*</span><span class='p'>[</span><span class='n'>a</span><span class='o'>-</span><span class='n'>zA</span><span class='o'>-</span><span class='n'>Z</span><span class='p'>])(?</span><span class='o'>=.*\</span><span class='n'>d</span><span class='p'>)</span><span class='o'>\</span><span class='n'>S</span><span class='o'>*</span>
</code></pre></div>
<p>Notice that by chaining these lookarounds together, we have essentially added an “and” to our condition. It is important to understand that chaining several lookarounds together simply adds complexity to the precondition for a match. We aren’t introducing a notion of order here by having one lookaround come before the other. We could just as well write the above regex as follows and still obtain the same result:</p>
<div class='highlight'><pre><code class='perl'><span class='p'>(?</span><span class='o'>=.*\</span><span class='n'>d</span><span class='p'>)(?</span><span class='o'>=.*</span><span class='p'>[</span><span class='n'>a</span><span class='o'>-</span><span class='n'>zA</span><span class='o'>-</span><span class='n'>Z</span><span class='p'>])</span><span class='o'>\</span><span class='n'>S</span><span class='o'>*</span>
</code></pre></div>
<p>To finish off our expression, we add anchors to tie this regex to the start and end of our string:</p>
<div class='highlight'><pre><code class='perl'><span class='o'>^</span><span class='p'>(?</span><span class='o'>=.*\</span><span class='n'>d</span><span class='p'>)(?</span><span class='o'>=.*</span><span class='p'>[</span><span class='n'>a</span><span class='o'>-</span><span class='n'>zA</span><span class='o'>-</span><span class='n'>Z</span><span class='p'>])</span><span class='o'>\</span><span class='n'>S</span><span class='o'>*</span><span class='nv'>$</span>
</code></pre></div>
<p>That’s all there is to it!</p>

<h2 id="final_word">Final word</h2>

<p>I hope that this article has been helpful in understanding the basics of lookarounds in regular expressions. I intended it to be a simple introduction to the concept made accessible to the average developer who might not use regular expressions very often. A much more thorough look at lookarounds (and many other regular expression topics) can be found <a href="http://www.rexegg.com/regex-lookarounds.html">here</a>. I strongly encourage you to take a look.</p>
                        <br>
                    <span class="entry-tags">
                    <p>
                        <i class="icon-tags"></i>&nbsp;Tagged with <a href="/tags/index.html#regex" data-toggle="tooltip" title="Posts tagged with regex" rel="tag">regex</a>
                    </p>
                    </span>
                    </div>
        </div>
                    <footer class="post-footer entry-meta">
                        
                        <div class="post-author text-center">                       
	        <img src="/images/" alt="'s photo" itemprop="image" class="post-avatar img-circle img-responsive"/>    
	    <h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="http://schema.org/Person">By <span itemprop="name" class="fn"><a href="/about" title="About " itemprop="url"></a></span></h4>
	    <p></p>
</div> 
                        
                    </footer>
            </article>
    </div>
</div>

<footer id="footer"  class="blog-background overlay text-center align-middle animated from-top" style="background-image: url(/images/)" >


    <div class="inner">
        <div class="container">

            <ul class="social-icons">
            
            
            
            
            
            
            
            
            
        </ul>
            <p class="copy-text">
                <a href="/about/"></a> &copy; 2014 &bull; All rights reserved.
            </p>
            <p class="copy-text">
                Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <i class="icon-heart"></i> <a href="http://alum.mit.edu/www/hmfaysal/">HMFAYSAL OMEGA</a> theme.
            </p>
            <ul class="menu-items">
            
            <li><a href="/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
            
        </ul>
        </div>
    </div>
    
        <div class="decor-wrapper">
            <svg id="footer-decor" class="decor top" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
                <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>

                <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>

            </svg>
        </div>
    
</footer>

    
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>
    
    <script type="text/javascript" src="/assets/js/script.js"></script>



<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> 
</body>
</html>